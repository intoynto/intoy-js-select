!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("select",["react"],t):"object"==typeof exports?exports.select=t(require("react")):e.select=t(e.react)}(self,(e=>(()=>{"use strict";var t={156:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{Select:()=>_});var e=r(156),t=r.n(e);function n(e){var t="";e=e||"";for(var n=0;n<e.length;n++){e.charCodeAt(n)<=127&&(t+=e.charAt(n))}return t}function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==e?"":(e="string"==typeof e||"number"==typeof e?e.toString():"",e=t?n(e):e.toString())}function i(e){return"string"==typeof e||"number"==typeof e?l(e).toString().trim():Array.isArray(e)&&e.length>0?i(e[0]):""}function a(e){var t=[];if("string"==typeof e||"number"==typeof e){var n=l(e).toString().trim();n.length>0&&t.push(n)}else if(Array.isArray(e)&&e.length>0)for(var r=0;r<e.length;r++){var o=i(e[r]);o.length>0&&t.push(o)}return t}function s(e,t){var n=Object.prototype.toString.call(e);if(n!==Object.prototype.toString.call(t))return!1;if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;if(!0===e&&!0===t)return!0;if(!1===e&&!1===t)return!0;if("number"==typeof e&&"number"==typeof t&&e===t)return!0;if("string"==typeof e&&"string"==typeof t&&e===t)return!0;if(["[object Array]","[object Object]"].indexOf(n)<0)return!1;var r="[object Array]"===n?e.length:Object.keys(e).length;if(r!==("[object Array]"===n?t.length:Object.keys(t).length))return!1;var o=function(e,t){var n=Object.prototype.toString.call(e);if(["[object Array]","[object Object]"].indexOf(n)>=0){if(!s(e,t))return!1}else{if(n!==Object.prototype.toString.call(t))return!1;if("[object Function]"===n){if(e.toString()!==t.toString())return!1}else if(e!==t)return!1}};if("[object Array]"===n){for(var l=0;l<r;l++)if(!1===o(e[l],t[l]))return!1}else for(var i in e)if(e.hasOwnProperty(i)&&!1===o(e[i],t[i]))return!1;return!0}function c(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(){return document&&document.activeElement}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function g(e){if(e){var t=new Event("click");e.dispatchEvent(t)}}function y(e,t){e&&e.classList.remove(t)}function b(e,t){return e&&e.classList.contains(t)}function S(e){return t().createElement("svg",{className:e.className,height:"14",width:"14",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false"},t().createElement("path",{className:e.className,d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(p,e);var n,r,o,i=v(p);function p(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=i.call(this,e)).options=[],n.valueRef=[],n.selectOptions=[],n.values=[],n.dropItems=[],n.places=[],n.ndWrap=null,n.ndSelBox=null,n.ndSelCtr=null,n.nDropDown=null,n.ndSelect=null,n.ndInput=null,n.ndNoInput=null,n.ndTgDrop=null,n.ndTgRem=null,n.search="",n.clBody=!1,n._cselops=0,n.gInitState=function(e){return{focus:!1,emit:0}},n.isMultiple=function(e){return!!(e=e||n.props).multiple},n.isDisabled=function(e){return!!(e=e||n.props).disabled},n.prepValues=function(e){var t=a(null==(e=e||n.props)?void 0:e.value);!s(t,n.values)&&(n.values=t.slice(0))},n.prepPlaces=function(e){if(n.places=[],n.values.length>0)for(var t=n.isMultiple(),r=0;r<n.values.length;r++){var o=n.valueRef.indexOf(n.values[r]),l=n.options[o];if(o>=0&&l&&(n.places.push(n.rdrPlace({dngH:l.__label_,multiple:t,dataValue:l.__id_})),!n.isMultiple(e)))break}},n.valuesAdd=function(e){if(e){n.values.push(e);var t=n.valueRef.indexOf(e),r=n.options[t];n.places.push(n.rdrPlace({dngH:r.__label_,multiple:n.isMultiple(),dataValue:r.__id_}))}},n.rdrPlace=function(e){var n=e.dngH,r=e.multiple,o=e.dataValue;return t().createElement("div",{className:"SelectLabel SLRem","data-value":o},t().createElement("div",{className:"SelectLabelVal SLRem",dangerouslySetInnerHTML:{__html:n}}),r&&t().createElement("div",{className:"SelectLabelRem SLRem SLRemDo",role:"button"},t().createElement(S,{className:"SLRem SLRemDo"})))},n.valuesRem=function(e){if(e){var t=n.values.indexOf(e);return t>=0&&(n.values.splice(t,1),n.places.splice(t,1),!0)}var r=n.values[0];if(r){n.valueRef.indexOf(r);return n.values.splice(0,1),n.places.splice(0,1),!0}},n.itemsPush=function(e,r){e=e||{};var o=n.state.focus,i=l(n.search).trim().toLowerCase(),a=function(e){return e=l(e).toString().toLowerCase().trim(),new RegExp(i).test(e)},s=!0;if(o&&i.length>0&&(s=a(e.__id_)||a(e.__label_)),s){var c=n.values.indexOf(e.__id_),u=n.isMultiple(r)?c>=0:e.__id_===n.values[0],p={"data-value":e.__id_,className:"SelectItem ".concat(u?"selected disabled":"")};n.dropItems.push(t().createElement("li",Object.assign({onClick:function(t){t.preventDefault(),n.onItemClick(e.__id_)}},p,{dangerouslySetInnerHTML:{__html:e.__label_}})))}},n.optionPush=function(e,r){var o;if(e&&void 0!==e.__id_&&null!==e.__id_){var l=n.isMultiple(r);!l&&n.selectOptions.length;var i=!l&&n._cselops<1&&n.values.indexOf(e.__id_)>=0,a={value:e.__id_};i&&(a.selected=!0,n._cselops++),n.selectOptions.push(t().createElement("option",Object.assign({},a),null==(o=e.__label_)||""===o?"":(o=o.toString()).replace(/<[^>]*>/g,"")))}},n.prepItems=function(e){n.dropItems=[],n.selectOptions=[],n._cselops=0,n.options.forEach((function(t){n.optionPush(t,e),n.itemsPush(t,e)}))},n.prepOptions=function(e){if(e=e||n.props,n.options=[],n.valueRef=[],Array.isArray(e.options)&&e.options.length>0){var t=l(e.fieldid).toString().trim(),r=l(e.fieldname).toString().trim();t=t.length<1?"id":t,r=r.length<1?t:r;for(var o=[],i=0;i<e.options.length;i++){var a=e.options[i];if(!c(a)){var s=l(a[t]).toString().trim();if(!(o.indexOf(s)>=0)){var u=l(a[r]),p=u=u.length<1?s:u;if("function"==typeof e.onFieldName)try{var f=e.onFieldName(a);"string"==typeof f&&l(f).length>0&&(u=l(f).toString().trim())}catch(e){}o.push(s),n.valueRef.push(s);var d=Object.assign(Object.assign({},a),{__id_:s,__label_:u,__labelOrigin_:p});n.options.push(d)}}}}},n.ckInpFocused=function(){if(n.ndInput){var e,t=u();t&&t!==n.ndInput&&(e=n.ndInput)&&e.focus&&"function"==typeof e.focus&&e.focus()}},n.emit=function(e){n.setState({emit:n.state.emit+1},e)},n.onECh=function(e){var t=e.target;n.search=t.value,n.prepItems(),n.emit()},n.doBlur=function(){if(!n.ndWrap)return!1;var e=u();return!(!e||!n.ndWrap.contains(e))&&(function(e,t){if(t)for(var n=Array.isArray(e)?e:[e],r=0;r<n.length;r++){var o=n[r];"function"==typeof t[o]&&t[o]()}}("blur",e),!0)},n.hSWKeyDown=function(e){var t,r,o,i,a,s=l(e.key).toLowerCase().trim(),c=n.state.focus,u=function(){var e=n.nDropDown.querySelector(".focus");return(!e||e.length<1)&&(e=n.nDropDown.querySelector(".selected")),e};if("enter"===s){if(c){var p=u();return void(p&&(e.preventDefault(),g(p),n.setState({focus:!1})))}}else if("backspace"===s){if(""===n.search&&n.values.length>0&&n.isMultiple()){var f=n.values[n.values.length-1];n.valuesRem(f)&&(n.prepItems(),n.emit(n.callPropsChange))}}else if("arrowdown"===s||"arrowup"===s){var d=u();if(y(d,"focus"),d="arrowdown"===s?function(e){for(e=e?e.nextElementSibling:n.nDropDown.querySelector(".SelectItems .SelectItem");e;){if(!b(e,"disabled")&&"none"!=e.style.display)return e;e=e.nextElementSibling}return null}(d):function(e){for(e=e?e.previousElementSibling:n.nDropDown.querySelector(".SelectItems .SelectItem");e;){if(!b(e,"disabled")&&"none"!=e.style.display)return e;e=e.previousElementSibling}return null}(d),d)y(n.ndTgDrop.querySelector(".focus"),"focus"),a="focus",(i=d)&&i.classList.add(a),t=n.nDropDown,r=d,o=t.scrollTop+t.offsetHeight,r.offsetTop+r.offsetHeight<o&&r.offsetTop>=t.scrollTop||(t.scrollTop=r.offsetTop);e.preventDefault()}else["esc","escape"].indexOf(s)>=0&&c?g(n.ndWrap):c||g(n.ndWrap);return!1},n.onItemClick=function(e){var t=l(e).toString().trim();n.isMultiple()?n.values.indexOf(t)<=-1&&(n.valuesAdd(t),n.search="",n.prepItems(),n.emit(n.callPropsChange)):n.values.indexOf(t)<=-1&&(n.values=[],n.places=[],n.valuesAdd(t),n.search="",n.prepItems(),n.emit(n.callPropsChange))},n.callPropsChange=function(){if(n.ndSelect&&"function"==typeof n.props.onChange){var e=n.isMultiple(),t=[],r=n.values.slice(0),o=r.length>0;if(e)for(var l=0;l<n.values.length;l++){var i=n.values[l],a=n.valueRef.indexOf(i);t.push(Object.assign({},n.options[a]))}else{var s=n.values[0],c=n.valueRef.indexOf(s);t.push(Object.assign({},n.options[c]))}var u={target:{name:n.ndSelect.name,value:e?r:r[0]||""}};u.target.data=o?e?t:t[0]:void 0,u.currentTarget=Object.assign({},u.target),u.preventDefault=function(){},"function"==typeof n.props.onChange&&n.props.onChange(u)}},n.hSWClick=function(e){var t;t=!n.state.focus;var r,o,l,i=n.ndTgRem&&n.ndTgRem.contains(e.target),a=(r=e.target,n.ndSelCtr&&n.ndSelCtr.contains(r)&&(b(r,"SLRem")||b(r,"SLRemDo"))),s=i||a;if(b(e.target,"SLRemDo")){var c=function e(t,n,r,o){return"body"===t.tagName.toString().toLowerCase()?null:b(t,n)?t:t.parentNode?(r++,o>0&&r>=o?null:e(t.parentNode,n,r,o)):null}(e.target,"SelectLabel",0,4),u=(l="data-value",(o=c)?o.getAttribute(l):null);c&&u&&n.valuesRem(u)&&(n.prepItems(),n.emit(n.callPropsChange))}s?e.preventDefault():n.setState({focus:!n.state.focus},t?n.ckInpFocused:void 0)},n.onClickOutside=function(e){var t=n.ndWrap&&n.ndWrap.contains(e.target),r=n.ndTgRem&&n.ndTgRem.contains(e.target),o=n.nDropDown&&n.nDropDown.contains(e.target);n.ndSelCtr&&n.ndSelCtr.contains(e.target);if(o);else if(r)return void(n.valuesRem()&&(n.prepItems(),n.emit(n.callPropsChange)));t||n.state.focus&&n.setState({focus:!1})},n.updateCtrSize=function(){var e=n.ndWrap,t=n.ndSelBox;e&&t&&(n.isMultiple()?t.style.maxWidth="".concat(e.offsetWidth,"px"):t.style.maxWidth=null)},n.bodyClReg=function(){n.clBody||(window.addEventListener("click",n.onClickOutside),n.clBody=!0)},n.bodyClUnReg=function(){n.clBody&&(window.removeEventListener("click",n.onClickOutside),n.clBody=!1)},n.state=n.gInitState(e),n.prepValues(e),n.prepOptions(e),n.prepItems(e),n.prepPlaces(e),n}return n=p,(r=[{key:"componentDidMount",value:function(){this.bodyClReg(),window.addEventListener("resize",this.updateCtrSize)}},{key:"componentWillUnmount",value:function(){this.bodyClUnReg(),window.removeEventListener("resize",this.updateCtrSize)}},{key:"componentDidUpdate",value:function(e){var t=s(e.value,this.props.value),n=s(e.multiple,this.props.multiple),r=s(e.options,this.props.options),o=e.loading===this.props.loading,l=s(a(e.value),a(this.props.value));if(!(t&&n&&r&&o&&l))return t&&n&&r&&l||(this.prepValues(),this.prepOptions(),this.prepItems(),this.prepPlaces()),void this.emit();this.updateCtrSize()}},{key:"render",value:function(){var e=this,n=this.state.focus,r=this.props,o=r.multiple,i=r.loading,a=this.props,s={};s.name=a.name,s.id=a.id?a.id:s.name,o?s.multiple=!0:s.value=l(this.values[0]);var c={className:"SelectInput"};return this.values.length<1&&!n&&(c.placeholder=a.placeholder?a.placeholder:"Pilihan",c.className=c.className+" withPlaceholder"),t().createElement("div",{className:"Select ".concat(o?"multiple":"single"," ").concat(n?"focus":"")},t().createElement("select",Object.assign({ref:function(t){return e.ndSelect=t}},s),this.selectOptions),t().createElement("div",{ref:function(t){return e.ndWrap=t},className:"SelectWrap",onClick:this.hSWClick,onKeyDown:this.hSWKeyDown},t().createElement("div",{ref:function(t){return e.ndSelBox=t},className:"SelectBox"},t().createElement("div",{ref:function(t){return e.ndSelCtr=t},className:"SelectControls"},this.places,t().createElement("input",Object.assign({ref:function(t){return e.ndInput=t},spellCheck:"false",onInput:this.onECh,value:this.search},c))),t().createElement("div",{className:"SelectArrows"},!o&&this.values.length>0&&t().createElement("span",{ref:function(t){return e.ndTgRem=t},className:"SelectArrow SelectArrowRemove"},t().createElement(S,null)),t().createElement("span",{ref:function(t){return e.ndTgDrop=t},className:"SelectArrow SelectArrowDropDown"}))),t().createElement("div",{className:"SelectDropBox"},t().createElement("div",{ref:function(t){return e.nDropDown=t},className:"SelectDropDown"},t().createElement("ul",{className:"SelectItems"},this.dropItems)))),i&&t().createElement("div",{className:"SelectLoading"}))}}])&&f(n.prototype,r),o&&f(n,o),Object.defineProperty(n,"prototype",{writable:!1}),p}(t().Component);_.version="1"})(),o})()));
//# sourceMappingURL=select.js.map