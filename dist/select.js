!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("select",["react"],t):"object"==typeof exports?exports.select=t(require("react")):e.select=t(e.react)}(self,(function(e){return(()=>{"use strict";var t={543:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var c=u(n(156)),f=n(282);function p(e){if(e){var t=new Event("click");e.dispatchEvent(t)}}function d(e,t){e&&e.classList.remove(t)}function v(e,t){return e&&e.classList.contains(t)}function m(e){return c.default.createElement("svg",{className:e.className,height:"14",width:"14",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false"},c.default.createElement("path",{className:e.className,d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,r,a=i(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).options=[],t.valueRef=[],t.selectOptions=[],t.values=[],t.dropItems=[],t.places=[],t.ndWrap=null,t.ndSelBox=null,t.ndSelCtr=null,t.nDropDown=null,t.ndSelect=null,t.ndInput=null,t.ndNoInput=null,t.ndTgDrop=null,t.ndTgRem=null,t.search="",t._cselops=0,t.gInitState=function(e){return{focus:!1,emit:0}},t.isMultiple=function(e){return!!(e=e||t.props).multiple},t.isDisabled=function(e){return!!(e=e||t.props).disabled},t.prepValues=function(e){e=e||t.props;var n=(0,f.toArrayString)(null==e?void 0:e.value);!(0,f.isEqual)(n,t.values)&&(t.values=n.slice(0))},t.prepPlaces=function(e){if(t.places=[],t.values.length>0)for(var n=t.isMultiple(),r=0;r<t.values.length;r++){var o=t.valueRef.indexOf(t.values[r]),l=t.options[o];if(o>=0&&l&&(t.places.push(t.rdrPlace({dngH:l.__label_,multiple:n,dataValue:l.__id_})),!t.isMultiple(e)))break}},t.valuesAdd=function(e){if(e){t.values.push(e);var n=t.valueRef.indexOf(e),r=t.options[n];t.places.push(t.rdrPlace({dngH:r.__label_,multiple:t.isMultiple(),dataValue:r.__id_}))}},t.rdrPlace=function(e){var t=e.dngH,n=e.multiple,r=e.dataValue;return c.default.createElement("div",{className:"SelectLabel SLRem","data-value":r},c.default.createElement("div",{className:"SelectLabelVal SLRem",dangerouslySetInnerHTML:{__html:t}}),n&&c.default.createElement("div",{className:"SelectLabelRem SLRem SLRemDo",role:"button"},c.default.createElement(m,{className:"SLRem SLRemDo"})))},t.valuesRem=function(e){if(e){var n=t.values.indexOf(e);return n>=0&&(t.values.splice(n,1),t.places.splice(n,1),!0)}var r=t.values[0];if(r){t.valueRef.indexOf(r);return t.values.splice(0,1),t.places.splice(0,1),!0}},t.itemsPush=function(e,n){e=e||{};var r=t.state.focus,o=(0,f.toStr)(t.search).trim().toLowerCase(),l=function(e){return e=(0,f.toStr)(e).toString().toLowerCase().trim(),new RegExp(o).test(e)},i=!0;if(r&&o.length>0&&(i=l(e.__id_)||l(e.__label_)),i){var a=t.values.indexOf(e.__id_),s=t.isMultiple(n)?a>=0:e.__id_===t.values[0],u={"data-value":e.__id_,className:"SelectItem ".concat(s?"selected disabled":"")};t.dropItems.push(c.default.createElement("li",Object.assign({onClick:t.onItemClick},u,{dangerouslySetInnerHTML:{__html:e.__label_}})))}},t.optionPush=function(e,n){if(e&&void 0!==e.__id_&&null!==e.__id_){var r=t.isMultiple(n);!r&&t.selectOptions.length;var o=!r&&t._cselops<1&&t.values.indexOf(e.__id_)>=0,l={value:e.__id_};o&&(l.selected=!0,t._cselops++),t.selectOptions.push(c.default.createElement("option",Object.assign({},l),(0,f.stripHtmlTags)(e.__label_)))}},t.prepItems=function(e){t.dropItems=[],t.selectOptions=[],t._cselops=0,t.options.forEach((function(n){t.optionPush(n,e),t.itemsPush(n,e)}))},t.prepOptions=function(e){if(e=e||t.props,t.options=[],t.valueRef=[],Array.isArray(e.options)&&e.options.length>0){var n=(0,f.toStr)(e.fieldid).toString().trim(),r=(0,f.toStr)(e.fieldname).toString().trim();n=n.length<1?"id":n,r=r.length<1?n:r;for(var o=[],l=0;l<e.options.length;l++){var i=e.options[l];if(!(0,f.isObjectEmpty)(i)){var a=(0,f.toStr)(i[n]).toString().trim();if(!(o.indexOf(a)>=0)){var s=(0,f.toStr)(i[r]),u=s=s.length<1?a:s;if("function"==typeof e.onFieldName)try{var c=e.onFieldName(i);"string"==typeof c&&(0,f.toStr)(c).length>0&&(s=(0,f.toStr)(c).toString().trim())}catch(e){}o.push(a),t.valueRef.push(a);var p=Object.assign(Object.assign({},i),{__id_:a,__label_:s,__labelOrigin_:u});t.options.push(p)}}}}},t.ckInpFocused=function(){if(t.ndInput){var e,n=(0,f.getFocusElement)();n&&n!==t.ndInput&&(e=t.ndInput)&&e.focus&&"function"==typeof e.focus&&e.focus()}},t.emit=function(e){t.setState({emit:t.state.emit+1},e)},t.onECh=function(e){var n=e.target;t.search=n.value,t.prepItems(),t.emit()},t.hSWKeyDown=function(e){var n,r,o,l,i,a=(0,f.toStr)(e.key).toLowerCase().trim(),s=t.state.focus,u=function(){var e=t.nDropDown.querySelector(".focus");return(!e||e.length<1)&&(e=t.nDropDown.querySelector(".selected")),e};if("enter"===a)p(s?u():t.ndWrap);else if("backspace"===a){if(""===t.search&&t.values.length>0&&t.isMultiple()){var c=t.values[t.values.length-1];t.valuesRem(c)&&(t.prepItems(),t.emit(t.callPropsChange))}}else if("arrowdown"===a||"arrowup"===a){var m=u();if(d(m,"focus"),m="arrowdown"===a?function(e){for(e=e?e.nextElementSibling:t.nDropDown.querySelector(".SelectItems .SelectItem");e;){if(!v(e,"disabled")&&"none"!=e.style.display)return e;e=e.nextElementSibling}return null}(m):function(e){for(e=e?e.previousElementSibling:t.nDropDown.querySelector(".SelectItems .SelectItem");e;){if(!v(e,"disabled")&&"none"!=e.style.display)return e;e=e.previousElementSibling}return null}(m),m)d(t.ndTgDrop.querySelector(".focus"),"focus"),i="focus",(l=m)&&l.classList.add(i),n=t.nDropDown,r=m,o=n.scrollTop+n.offsetHeight,r.offsetTop+r.offsetHeight<o&&r.offsetTop>=n.scrollTop||(n.scrollTop=r.offsetTop);e.preventDefault()}else["esc","escape"].indexOf(a)>=0&&s?p(t.ndWrap):s||p(t.ndWrap);return!1},t.onItemClick=function(e){var n=e.target;if(!v(n,"disabled"))if(t.isMultiple()){var r=n.getAttribute("data-value")||"";t.values.indexOf(r)<=-1&&(t.valuesAdd(r),t.search="",t.prepItems(),t.emit(t.callPropsChange))}else{var o=n.getAttribute("data-value")||"";t.values.indexOf(o)<=-1&&(t.values=[],t.places=[],t.valuesAdd(o),t.search="",t.prepItems(),t.emit(t.callPropsChange))}},t.callPropsChange=function(){if(t.ndSelect){var e=t.isMultiple(),n=[];if(e)for(var r=0;r<t.values.length;r++){var o=t.values[r],l=t.valueRef.indexOf(o);n.push(Object.assign({},t.options[l]))}else{var i=t.values[0],a=t.valueRef.indexOf(i);n.push(Object.assign({},t.options[a]))}var s={target:{name:t.ndSelect.name,value:t.isMultiple()?t.values:t.values[0]}};s.target.data=e?n:n[0],s.currentTarget=Object.assign({},s.target),s.preventDefault=function(){},"function"==typeof t.props.onChange&&t.props.onChange(s)}},t.hSWClick=function(e){var n;n=!t.state.focus;var r,o,l,i=t.ndTgRem&&t.ndTgRem.contains(e.target),a=(r=e.target,t.ndSelCtr&&t.ndSelCtr.contains(r)&&(v(r,"SLRem")||v(r,"SLRemDo"))),s=i||a;if(v(e.target,"SLRemDo")){var u=function e(t,n,r,o){return"body"===t.tagName.toString().toLowerCase()?null:v(t,n)?t:t.parentNode?(r++,o>0&&r>=o?null:e(t.parentNode,n,r,o)):null}(e.target,"SelectLabel",0,4),c=(l="data-value",(o=u)?o.getAttribute(l):null);u&&c&&t.valuesRem(c)&&(t.prepItems(),t.emit(t.callPropsChange))}s?e.preventDefault():t.setState({focus:!t.state.focus},n?t.ckInpFocused:void 0)},t.onClickOutside=function(e){var n=t.ndWrap&&t.ndWrap.contains(e.target),r=t.ndTgRem&&t.ndTgRem.contains(e.target),o=t.nDropDown&&t.nDropDown.contains(e.target);t.ndSelCtr&&t.ndSelCtr.contains(e.target);if(o);else if(r)return void(t.valuesRem()&&(t.prepItems(),t.emit(t.callPropsChange)));n||t.setState({focus:!1})},t.updateCtrSize=function(){var e=t.ndWrap,n=t.ndSelBox;e&&n&&(t.isMultiple()?n.style.maxWidth="".concat(e.offsetWidth,"px"):n.style.maxWidth=null)},t.state=t.gInitState(e),t.prepValues(e),t.prepOptions(e),t.prepItems(e),t.prepPlaces(e),t}return t=s,(n=[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onClickOutside),window.addEventListener("resize",this.updateCtrSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onClickOutside),window.removeEventListener("resize",this.updateCtrSize)}},{key:"componentDidUpdate",value:function(e){var t=(0,f.isEqual)(e.value,this.props.value),n=(0,f.isEqual)(e.multiple,this.props.multiple),r=(0,f.isEqual)(e.options,this.props.options),o=e.loading===this.props.loading;if(!(t&&n&&r&&o))return t&&n&&r||(this.prepValues(),this.prepOptions(),this.prepItems(),this.prepPlaces()),void this.emit();this.updateCtrSize()}},{key:"render",value:function(){var e=this,t=this.state.focus,n=this.props,r=n.multiple,o=n.loading,l=this.props,i={};i.name=l.name,i.id=l.id?l.id:i.name,r?i.multiple=!0:i.value=(0,f.toStr)(this.values[0]);var a={className:"SelectInput"};return this.values.length<1&&!t&&(a.placeholder=l.placeholder?l.placeholder:"Pilihan",a.className=a.className+" withPlaceholder"),c.default.createElement("div",{className:"Select ".concat(r?"multiple":"single"," ").concat(t?"focus":"")},c.default.createElement("select",Object.assign({ref:function(t){return e.ndSelect=t}},i),this.selectOptions),c.default.createElement("div",{ref:function(t){return e.ndWrap=t},className:"SelectWrap",onClick:this.hSWClick,onKeyDown:this.hSWKeyDown},c.default.createElement("div",{ref:function(t){return e.ndSelBox=t},className:"SelectBox"},c.default.createElement("div",{ref:function(t){return e.ndSelCtr=t},className:"SelectControls"},this.places,c.default.createElement("input",Object.assign({ref:function(t){return e.ndInput=t},spellCheck:"false",onInput:this.onECh,value:this.search},a))),c.default.createElement("div",{className:"SelectArrows"},!r&&this.values.length>0&&c.default.createElement("span",{ref:function(t){return e.ndTgRem=t},className:"SelectArrow SelectArrowRemove"},c.default.createElement(m,null)),c.default.createElement("span",{ref:function(t){return e.ndTgDrop=t},className:"SelectArrow SelectArrowDropDown"}))),c.default.createElement("div",{className:"SelectDropBox"},c.default.createElement("div",{ref:function(t){return e.nDropDown=t},className:"SelectDropDown"},c.default.createElement("ul",{className:"SelectItems"},this.dropItems)))),o&&c.default.createElement("div",{className:"SelectLoading"}))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(c.default.Component);t.Select=g,g.version="1"},976:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(543),t)},282:(e,t)=>{function n(e){var t="";e=e||"";for(var n=0;n<e.length;n++){e.charCodeAt(n)<=127&&(t+=e.charAt(n))}return t}function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==e?"":(e="string"==typeof e||"number"==typeof e?e.toString():"",e=t?n(e):e.toString())}function o(e){return"string"==typeof e||"number"==typeof e?r(e).toString().trim():Array.isArray(e)&&e.length>0?o(e[0]):""}Object.defineProperty(t,"__esModule",{value:!0}),t.getFocusElement=t.stripHtmlTags=t.checkCompare=t.isObjectEmpty=t.isEqual=t.toArrayString=t.toSingleString=t.toStr=t.toUtf8String=void 0,t.toUtf8String=n,t.toStr=r,t.toSingleString=o,t.toArrayString=function(e){var t=[];if("string"==typeof e||"number"==typeof e){var n=r(e).toString().trim();n.length>0&&t.push(n)}else if(Array.isArray(e)&&e.length>0)for(var l=0;l<e.length;l++){var i=o(e[l]);i.length>0&&t.push(i)}return t},t.isEqual=function e(t,n){var r=Object.prototype.toString.call(t);if(r!==Object.prototype.toString.call(n))return!1;if(null===t&&null===n)return!0;if(void 0===t&&void 0===n)return!0;if(!0===t&&!0===n)return!0;if(!1===t&&!1===n)return!0;if("number"==typeof t&&"number"==typeof n&&t===n)return!0;if("string"==typeof t&&"string"==typeof n&&t===n)return!0;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var o="[object Array]"===r?t.length:Object.keys(t).length;if(o!==("[object Array]"===r?n.length:Object.keys(n).length))return!1;var l=function(t,n){var r=Object.prototype.toString.call(t);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(t,n))return!1}else{if(r!==Object.prototype.toString.call(n))return!1;if("[object Function]"===r){if(t.toString()!==n.toString())return!1}else if(t!==n)return!1}};if("[object Array]"===r){for(var i=0;i<o;i++)if(!1===l(t[i],n[i]))return!1}else for(var a in t)if(t.hasOwnProperty(a)&&!1===l(t[a],n[a]))return!1;return!0},t.isObjectEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.checkCompare=function(e,t){var n=(e||"").toString().toLowerCase(),r=(t||"").toString().toLowerCase();return n.indexOf(r)>-1},t.stripHtmlTags=function(e){return null==e||""===e?"":(e=e.toString()).replace(/<[^>]*>/g,"")},t.getFocusElement=function(){return document&&document.activeElement}},156:t=>{t.exports=e}},n={};var r=function e(r){var o=n[r];if(void 0!==o)return o.exports;var l=n[r]={exports:{}};return t[r].call(l.exports,l,l.exports,e),l.exports}(976);return r})()}));
//# sourceMappingURL=select.js.map