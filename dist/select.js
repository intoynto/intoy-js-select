!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("select",["react"],t):"object"==typeof exports?exports.select=t(require("react")):e.select=t(e.react)}(self,(e=>(()=>{var t={155:t=>{"use strict";t.exports=e},633:(e,t,n)=>{var r=n(738).default;function o(){"use strict";e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof S?t:S,i=Object.create(o.prototype),a=new P(r||[]);return l(i,"_invoke",{value:k(e,n,a)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var y="suspendedStart",m="suspendedYield",v="executing",g="completed",b={};function S(){}function w(){}function _(){}var x={};p(x,u,(function(){return this}));var O=Object.getPrototypeOf,C=O&&O(O(I([])));C&&C!==i&&a.call(C,u)&&(x=C);var j=_.prototype=S.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(o,i,l,c){var u=h(e[o],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(f).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,c)}))}c(u.arg)}var o;l(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function k(e,n,r){var o=y;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=A(l,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===y)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=h(e,n,r);if("normal"===u.type){if(o=r.done?g:m,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=_,l(j,"constructor",{value:_,configurable:!0}),l(_,"constructor",{value:w,configurable:!0}),w.displayName=p(_,f,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,p(e,f,"GeneratorFunction")),e.prototype=Object.create(j),e},n.awrap=function(e){return{__await:e}},E(L.prototype),p(L.prototype,s,(function(){return this})),n.AsyncIterator=L,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new L(d(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(j),p(j,f,"Generator"),p(j,u,(function(){return this})),p(j,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var r=n(633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:String(n)}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}r.r(o),r.d(o,{Select:()=>j,SelectList:()=>I});var p=r(155),d=r.n(p);function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==e?"":(e="string"==typeof e||"number"==typeof e?e.toString():"",e=t?function(e){var t="";e=e||"";for(var n=0;n<e.length;n++)e.charCodeAt(n)<=127&&(t+=e.charAt(n));return t}(e):e.toString())}function y(e){return"string"==typeof e||"number"==typeof e?h(e).toString().trim():Array.isArray(e)&&e.length>0?y(e[0]):""}function m(e,t){var n=Object.prototype.toString.call(e);if(n!==Object.prototype.toString.call(t))return!1;if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;if(!0===e&&!0===t)return!0;if(!1===e&&!1===t)return!0;if("number"==typeof e&&"number"==typeof t&&e===t)return!0;if("string"==typeof e&&"string"==typeof t&&e===t)return!0;if(["[object Array]","[object Object]"].indexOf(n)<0)return!1;var r="[object Array]"===n?e.length:Object.keys(e).length;if(r!==("[object Array]"===n?t.length:Object.keys(t).length))return!1;var o=function(e,t){var n=Object.prototype.toString.call(e);if(["[object Array]","[object Object]"].indexOf(n)>=0){if(!m(e,t))return!1}else{if(n!==Object.prototype.toString.call(t))return!1;if("[object Function]"===n){if(e.toString()!==t.toString())return!1}else if(e!==t)return!1}};if("[object Array]"===n){for(var i=0;i<r;i++)if(!1===o(e[i],t[i]))return!1}else for(var a in e)if(e.hasOwnProperty(a)&&!1===o(e[a],t[a]))return!1;return!0}function v(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function g(e,t,n){return t=u(t),c(e,b()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}const S=function(t){function n(){var t;return e(this,n),(t=g(this,n,arguments)).onClickSelect=function(e,n){e&&e.preventDefault(),n&&"function"==typeof t.props.onClickSelect&&t.props.onClickSelect(n)},t}return f(n,t),a(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.keyword||"").toString().trim().toLowerCase(),r=new RegExp(n),o=function(e){return e=(e||"").toString().trim().toLowerCase(),r.test(e)},i=0,a=[];return d().createElement("div",{className:"SelectDropDown",onBlurCapture:t.onBlur},d().createElement("div",{className:"SelectItems"},t.options.map((function(r,l){if(!(n.length<1||o(r.id)||o(r.__label)))return null;var c=Array.isArray(t.selectedValues)&&t.selectedValues.indexOf(r.__id)>=0;if(c){var u=t.name;t.multiple&&(u+="[".concat(i,"]")),a.push(d().createElement("input",{name:u,value:r.__id,type:"hidden",style:{display:"none"}})),i++}return d().createElement("div",{onClick:function(t){e.onClickSelect(t,r)},className:"SelectItem ".concat(c?"selected":""," "),"data-value":"".concat(r.__id),dangerouslySetInnerHTML:{__html:r.__html}})}))),a)}}]),n}(d().Component);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){return t=u(t),c(e,O()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function C(e){return d().createElement("svg",{className:e.className,height:"14",width:"14",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false"},d().createElement("path",{className:e.className,d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}const j=function(t){function n(t){var r;return e(this,n),(r=x(this,n,[t])).ndSelect=null,r.ndInput=null,r.ndDrobBox=null,r.selectedValues=[],r.options=[],r.options_b=[],r._lsoutside=!1,r._lsenter=!1,r.gState=function(e){return{focus:!1,open:!1,keyword:"",label:"",emit:0}},r.athProps=function(e){var t=function(e){var t,n=[],r=[];if(Array.isArray(e.options)&&e.options.length>0){var o=h(e.fieldid).toString().trim(),i=h(e.fieldname).toString().trim();o=o.length<1?"id":o,i=i.length<1?o:i;for(var a=[],l=0;l<e.options.length;l++)if(!v(e.options[l])){var c=e.options[l],u=h(c[o]).toString().trim();if(!(a.indexOf(u)>=0)){var s=h(c[i]),f=s=s.length<1?u:s;if("function"==typeof e.onFieldName)try{var p=h(e.onFieldName(c)).toString().trim();p.length>0&&(f=p)}catch(e){}r.push(u);var d=Object.assign(Object.assign({},c),{__id:u,__label:(t=s,null==t||""===t?"":(t=t.toString()).replace(/<[^>]*>/g,"")),__html:f});a.push(u),n.push(d)}}}return{options:n,options_b:r}}({options:(e=e||r.props).options,fieldid:e.fieldid,fieldname:e.fieldname,onFieldName:e.onFieldName}),n=t.options,o=t.options_b;r.options=n,r.options_b=o},r.prepValues=function(e){var t=function(e){var t=[];if("string"==typeof e||"number"==typeof e){var n=h(e).toString().trim();n.length>0&&t.push(n)}else if(Array.isArray(e)&&e.length>0)for(var r=0;r<e.length;r++){var o=y(e[r]);o.length>0&&t.push(o)}return t}(null==(e=e||r.props)?void 0:e.value);return!m(t,r.selectedValues)&&(r.selectedValues=t.filter((function(e){return r.options_b.indexOf(e)>=0})),!0)},r.callChange=function(){if("function"==typeof r.props.onChange){for(var e=r.props,t=e.multiple?r.selectedValues.slice(0):r.selectedValues[0]||null,n={name:e.name,value:t},o=[],i=0;i<r.selectedValues.length;i++){var a=r.options_b.indexOf(r.selectedValues[i]),l=Object.assign({},r.options[a]);if(o.push(l),!e.multiple)break}n.data=e.multiple?o:o[0]||null;var c={target:n,currentTarget:Object.assign({},n),preventDefault:function(){},stopPropagation:function(){}};return r.props.onChange(c),!0}return!1},r.callConfirmChange=function(e,t){if("add"===t&&r.selectedValues.indexOf(e)>=0)return!1;if("delete"===t&&r.selectedValues.indexOf(e)<0)return!1;var n=!0,o=void 0!==r.props.multiple&&null!==r.props.multiple&&r.props.multiple;if("function"==typeof r.props.onConfirmChange)if(o){var i=r.selectedValues.slice(0),a=[],l=r.selectedValues.indexOf(e);"add"===t?(a=i.slice(0)).push(e):a=i.filter((function(e,t){return t!==l})),n=r.props.onConfirmChange(i,a,o)}else{var c,u,s=r.selectedValues.indexOf(e);c="add"===t?r.selectedValues[s]:e,u="add"==t?e:void 0,n=r.props.onConfirmChange(c,u,o)}return n&&(o?"add"===t?r.selectedValues.push(e):r.selectedValues.splice(r.selectedValues.indexOf(e),1):(r.selectedValues=[],"add"===t&&r.selectedValues.push(e))),n},r.syncCallChange=function(e){var t=function(){"function"==typeof e&&e()};r.forceUpdate((function(){if(r.callChange()){if(r.prepValues())return void r.forceUpdate(t);t()}else t()}))},r.onInputFocus=function(e){r.setState({focus:!0,open:!0})},r.onInputChange=function(e){var t=e.target.value;r.setState({keyword:t,label:h(t).toString().trim()})},r.onInputBlur=function(e){r._lsoutside?r.setState({focus:!1}):r.ndSelect&&requestAnimationFrame((function(){var e=document&&document.activeElement;e&&r.ndSelect.contains(e)?r.setState({focus:!1}):r.setState({open:!1})}))},r.hideOutSideClick=function(e){r.ndSelect&&(e.target instanceof HTMLElement&&(!e.target.closest("#".concat(r._id))?(r.state.focus||r.state.open)&&r.setState({focus:!1,open:!1}):(r._lsoutside=!0,requestAnimationFrame((function(){r._lsoutside=!1})))))},r.onInputKeyDown=function(e){if(r.ndDrobBox){var t=e.key.toLowerCase().trim(),n="backspace"===t,o="arrowdown"===t,i="arrowup"===t;if("enter"===t){var a=r.ndDrobBox.querySelector(".SelectItem.focus");if(a){var l=a.getAttribute("data-value")||"";if(l.length>0){var c=r.options_b.indexOf(l),u=c>=0?r.options[c]:void 0;u&&r.selectedValues.indexOf(u.__id)<0&&r.callConfirmChange(u.__id,"add")&&r.syncCallChange((function(){var e=void 0!==r.props.multiple&&null!==r.props.multiple&&r.props.multiple;r.setState({label:u.__id,focus:e},r.callChange)}))}}}else if(o||i){e.preventDefault();var s=r.ndDrobBox.querySelector(".SelectItems");if(s){var f=s.children;if(f.length>0){var p,d=0,h=0,y=!1,m=!1,v=0,g=0,b=!1,S=!1,_="focus",x=w(f);try{for(x.s();!(p=x.n()).done;){var O=p.value,C=O.classList.contains(_),j=O.classList.contains("selected");C&&(o?v=h:y||(y=!0,v=h),b=!0),j&&(o?g=h:m||(m=!0,g=h),S=!0),O.classList.remove(_),h++}}catch(e){x.e(e)}finally{x.f()}(S||b)&&(d=b?v:g,o?d++:d--,d=d<0?0:d>f.length-1?f.length-1:d),f[d]&&(f[d].classList.add(_),f[d].scrollIntoView({block:"center",inline:"center"}))}}}else n&&r.props.multiple&&""===r.state.keyword&&r.selectedValues.length>0&&r.callConfirmChange(r.selectedValues[r.selectedValues.length-1],"delete")&&r.setState({label:""},r.syncCallChange)}},r.onClickSelect=function(e){r.selectedValues.indexOf(e.__id)>=0||r.callConfirmChange(e.__id,"add")&&r.setState({label:e.__label},r.syncCallChange)},r.onClickRem=function(e){e&&r.callConfirmChange(e.__id,"delete")&&r.syncCallChange()},r.onClickRemLast=function(e){if(e&&e.preventDefault(),r.selectedValues.length>0){var t=r.options_b.indexOf(r.selectedValues[r.selectedValues.length-1]),n=r.options[t];r.callConfirmChange(n.__id,"delete")&&r.syncCallChange()}},r.onToggleOpen=function(e){e&&e.preventDefault(),r.setState({open:!r.state.open})},r._id=("sl"+Math.random().toString(32)+Date.now().toString(32)).replace(/\./g,""),r._id_options="".concat(r._id,"_option"),r.athProps(t),r.prepValues(t),r.state=r.gState(t),r}return f(n,t),a(n,[{key:"componentDidMount",value:function(){window.addEventListener("mousedown",this.hideOutSideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousedown",this.hideOutSideClick)}},{key:"componentDidUpdate",value:function(e,t,n){var r=m(e.options,this.props.options),o=m(e.value,this.props.value),i=!r||!o,a=!(e.loading===this.props.loading);i&&(this.athProps(this.props),this.prepValues(this.props)),(i||a)&&this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.multiple,r=t.loading,o=this.state,i=o.focus,a=o.open,l=o.keyword,c=!n,u=this.selectedValues.length>0,s=[""," "].indexOf(l)>=0,f=!u||!i,p={className:"SelectInput ".concat(i?"show":"hide"),value:l,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onInputKeyDown,spellCheck:"false"};return d().createElement("div",{ref:function(t){return e.ndSelect=t},id:this._id,className:"Select ".concat(n?"multiple":"single"," ").concat(i?"focus":""," ").concat(a?"open":"")},d().createElement("div",{className:"SelectWrap"},d().createElement("div",{className:"SelectBox"},d().createElement("div",{className:"SelectControls"},!u&&(!i||i&&s)&&t.placeholder&&d().createElement("div",{className:"SelectPlaceholder"},t.placeholder),u&&this.selectedValues.map((function(t){var r=e.options_b.indexOf(t),o=e.options[r];return o?d().createElement("div",{className:"SelectLabel ".concat(f?"show":"hide")},d().createElement("div",{className:"SelectLabelVal",dangerouslySetInnerHTML:{__html:o.__html}}),n&&d().createElement("div",{onClick:function(t){t.preventDefault(),e.onClickRem(o)},className:"SelectLabelValRem"},d().createElement(C,null))):null})),d().createElement("input",Object.assign({ref:function(t){return e.ndInput=t}},p))),d().createElement("div",{className:"SelectArrows"},c&&u&&d().createElement("span",{className:"SelectArrow SelectArrowRemove",onClick:this.onClickRemLast},d().createElement(C,null)),d().createElement("span",{onClick:this.onToggleOpen,className:"SelectArrow SelectArrowDropDown"}))),r&&d().createElement("div",{className:"SelectLoading"})),d().createElement("div",{ref:function(t){return e.ndDrobBox=t},className:"SelectDropBox"},d().createElement(S,{name:t.name,id_options:this._id_options,options:this.options,keyword:l,onBlur:this.onInputBlur,onClickSelect:this.onClickSelect,selectedValues:this.selectedValues,multiple:t.multiple})))}}]),n}(d().Component);var E=r(756),L=r.n(E);function k(e,t,n){return t=u(t),c(e,A()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var V=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function l(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))};function N(e,n,r){if(r=r||[],"object"===t(e))for(var o in e){var i=e[o];null!=i&&N(i,n?n+"["+o+"]":o,r)}else"string"==typeof e?e.toString().trim().length>0&&r.push(n+="="+encodeURIComponent(e)):r.push(n+="="+encodeURIComponent(e));return r.join("&")}function P(e,n){var r=new URLSearchParams,o=!1;if(n&&"object"===t(n))for(var i in n){var a=(n[i]||"").toString().trim();a.length>0&&(o=!0,r.append(i,a))}return e=(e||"").toString().trim(),o&&e.length>0&&(e+=e.endsWith("?")?"":"?",e+=r.toString()),e}const I=function(n){function r(n){var o;return e(this,r),(o=k(this,r,[n])).onLoad=function(e){return V(l(o),void 0,void 0,L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=3;break}return this.doLoad(),e.abrupt("return");case 3:this.setState({loading:!0},this.doLoad);case 4:case"end":return e.stop()}}),e,this)})))},o.doLoad=function(){return V(l(o),void 0,void 0,L().mark((function e(){var n,r,o,i,a,l=this;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=function(){l.state.loading&&l.setState({loading:!1})},!((o=P(n.url)).length<1)){e.next=6;break}return r(),e.abrupt("return");case 6:i=void 0,"function"==typeof n.loader&&(i=n.loader(o,n.params)),i&&i instanceof Promise||(n.params&&(Array.isArray(n.params)||"object"===t(n.params))&&(a=N(n.params)).length>0&&(o.indexOf("?")<0&&(o+="?"),o+=a),i=fetch(o,{headers:{accent:"text/json, application/json"}})),i.then((function(e){return e.json()})).then((function(e){"function"==typeof n.onResponse&&n.onResponse(e);var r=Array.isArray(e)?e:"object"===t(e)&&Array.isArray(e.records)?e.records:[];"function"==typeof n.onSort?n.onSort(r,n.sortField):l.prepSort(r),l.setState({loading:!1,options:r})})).catch((function(e){console.error("Catch load from : ",o),l.setState({loading:!1})}));case 10:case"end":return e.stop()}}),e,this)})))},o.prepSort=function(e){if(Array.isArray(e)&&e.length>0){var t=(o.props.sortField||"").toString().trim();t.length>0&&e.sort((function(e,n){var r=e[t],o=n[t];return r>o?1:r<o?-1:0}))}},o.state={loading:!1,options:[]},o}return f(r,n),a(r,[{key:"componentDidMount",value:function(){this.onLoad()}},{key:"componentDidUpdate",value:function(e,t,n){var r=e.url===this.props.url,o=m(e.params,this.props.params);(!r||!o)&&this.onLoad()}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.loading,r=t.options,o=Object.assign({},e);return delete o.url,delete o.params,d().createElement(j,Object.assign({},o,{loading:n,options:r}))}}]),r}(d().Component)})(),o})()));
//# sourceMappingURL=select.js.map